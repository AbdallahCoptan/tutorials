<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>RESIF - UL HPC Tutorials</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "RESIF";
    var mkdocs_page_input_path = "advanced/RESIF/index.md";
    var mkdocs_page_url = "/advanced/RESIF/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> UL HPC Tutorials</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Home</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Basic Tutorials</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../basic/getting_started/">Getting Started</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../basic/sequential_jobs/">HPC workflow with sequential jobs</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Debug/">Efficient Debugging</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Advanced Software Management</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../EasyBuild/">Easybuild</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">RESIF</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#ul-hpc-tutorial-using-resif-to-manage-software-modules">UL HPC Tutorial: Using RESIF to manage software modules</a></li>
                
                    <li><a class="toctree-l4" href="#using-the-software-environment-available-on-the-ul-hpc-platform">Using the software environment available on the UL HPC platform</a></li>
                
                    <li><a class="toctree-l4" href="#adding-a-software-to-an-existing-stack-on-ul-hpc">Adding a software to an existing stack on UL HPC</a></li>
                
                    <li><a class="toctree-l4" href="#replicating-the-software-sets-in-a-local-environment">Replicating the software sets in a local environment</a></li>
                
            
            </ul>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>MPI / Performance Evaluation</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../OSU_MicroBenchmarks/">OSU Micro-benchmarks</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../HPL/">High Performance Linpack (HPL)</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../HPCG/">High Performance Conjugate Gradient (HPCG)</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Mathematics</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../MATLAB1/README/">MATLAB</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../R/">R - statistical computing</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Bioinformatics</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Bioinformatics/">Running bioinformatics software</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Galaxy/">Galaxy</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Parallel Debuggers</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Allinea/">Allinea</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../TotalView/">TotalView</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Virtualization</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Vagrant/">Vagrant</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../vm5k/">Grid5000 - Automatic VM deployment with VM5K</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>CFD/MD/Chemistry</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../MultiPhysics/">Advanced Parallel execution</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Big Data</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Spark/">Big Data Application Over Apache Spark</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Advanced topics</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../advanced_workflows/README/">Advanced workflows on sequential jobs management</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../advanced_scheduling/">Advanced scheduling with SLURM</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Python/">Prototyping with Python</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ReproducibleResearch/">Reproducible Research</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../rtfd/">Documentation (RTFD)</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../contributing/">Contributing</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../contacts/">Contacts</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">UL HPC Tutorials</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Advanced Software Management &raquo;</li>
        
      
    
    <li>RESIF</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>-<em>- mode: markdown; mode: visual-line; fill-column: 80 -</em>-</p>
<p>Copyright (c) 2013-2017 UL HPC Team  <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#104;&#112;&#99;&#45;&#115;&#121;&#115;&#97;&#100;&#109;&#105;&#110;&#115;&#64;&#117;&#110;&#105;&#46;&#108;&#117;">&#104;&#112;&#99;&#45;&#115;&#121;&#115;&#97;&#100;&#109;&#105;&#110;&#115;&#64;&#117;&#110;&#105;&#46;&#108;&#117;</a></p>
<hr />
<h1 id="ul-hpc-tutorial-using-resif-to-manage-software-modules">UL HPC Tutorial: Using RESIF to manage software modules</h1>
<p><a href="https://hpc.uni.lu"><img alt="By ULHPC" src="https://img.shields.io/badge/by-ULHPC-blue.svg" /></a> <a href="http://www.gnu.org/licenses/gpl-3.0.html"><img alt="Licence" src="https://img.shields.io/badge/license-GPL--3.0-blue.svg" /></a> <a href="https://github.com/ULHPC/tutorials/issues/"><img alt="GitHub issues" src="https://img.shields.io/github/issues/ULHPC/tutorials.svg" /></a> <a href="https://github.com/ULHPC/tutorials/tree/devel/advanced/RESIF/"><img alt="Github" src="https://img.shields.io/badge/sources-github-green.svg" /></a> <a href="http://ulhpc-tutorials.readthedocs.io/en/latest/advanced/RESIF/"><img alt="Documentation Status" src="http://readthedocs.org/projects/ulhpc-tutorials/badge/?version=latest" /></a> <a href="https://github.com/ULHPC/tutorials"><img alt="GitHub forks" src="https://img.shields.io/github/stars/ULHPC/tutorials.svg?style=social&amp;label=Star" /></a></p>
<p><code>/!\ IMPORTANT</code>: <strong>This tutorial is obsolete as we are about to release the new RESIF code completely refactored</strong>.
Thus the below content has to be reworked with regards our new changes and is only kept for archives purposes.</p>
<hr />
<p>The objective of this tutorial is to present how to interact with the software installed on the UL HPC platform, from using provided software to extending the software collection by adding new software on the platform, and also reproducing the software environment on a local workstation.</p>
<p>This course is divided in three chapters that are going through each of these use cases.</p>
<p>The <a href="#understanding-and-using-the-software-available-on-the-ul-hpc-platform">first chapter</a> details the architecture of the software collection and the basic tools to start using the software.
The <a href="#adding-a-software-to-the-existing-stack">second chapter</a> defines the process of adding new software to the existing stack as a user using RESIF, the tool developed internally to manage the software stack on the UL HPC platform.
The <a href="#replicating-the-architecture-of-the-platform-on-a-local-environment">third chapter</a> explains the process of reproducing the software stack present on the platform, or part of it, in a local environment.</p>
<p>The latest version of this document can be found on <a href="https://github.com/ULHPC/tutorials/tree/devel/advanced/RESIF">Github</a>.</p>
<h2 id="using-the-software-environment-available-on-the-ul-hpc-platform">Using the software environment available on the UL HPC platform</h2>
<p>Before starting this tutorial, please make sure you are on a compute node of Gaia/Chaos and not on the access node. To get resources on a compute node, use the following command:
<code>(access)$&gt; oarsub -I -l core=1,walltime=1:00:00</code>
(for more details about this command and the node reservation process on the clusters, please referer to the <a href="https://hpc.uni.lu/users/docs/oar.html">ULHPC documentation</a>.)</p>
<p>Using the software available on the UL HPC platform is done through <a href="https://www.tacc.utexas.edu/research-development/tacc-projects/lmod">Lmod</a> which provide a <code>module</code> command that we review in the following section.
Lmod allows us to provide a multitude of applications and libraries in multiple versions. These tools use special files named "modules" that define ways to manage environment variables such as PATH, LD_LIBRARY_PATH and MANPATH, enabling the easy loading and unloading of application/library profiles and their dependencies.</p>
<h3 id="module-command-basics-and-workflow"><code>module</code> command basics and workflow</h3>
<p>Firstly, we activate the newest software stack:</p>
<pre><code>source /opt/apps/resif/default_user.sh
</code></pre>
<p>By using <code>module available</code> (or the shorter forms <code>module avail</code> or <code>module av</code>) we can list all the software modules of the software stack:</p>
<pre><code>(node)$&gt; module avail
------------------- /opt/apps/devel/v1.1-20150414/core/modules/bio ----------------
bio/ABySS/1.3.4-goolf-1.4.10-Python-2.7.3        bio/Bowtie2/2.2.2-goolf-1.4.10   (D)
bio/ABySS/1.3.4-ictce-5.3.0-Python-2.7.3  (D)    bio/Cufflinks/2.0.2-goolf-1.4.10
[...]
</code></pre>
<p>Note that this command returns a lot of information since there is a lot of installed software. To reduce the output we can search for what we are interested in, for example:</p>
<pre><code>(node)$&gt; module avail gromacs
----------- /opt/apps/devel/v1.1-20150414/core/modules/bio --------------
bio/GROMACS/4.6.1-ictce-5.3.0-hybrid    bio/GROMACS/4.6.1-ictce-5.3.0-mt
bio/GROMACS/4.6.5-goolf-1.4.10-mt (D)
[...]
</code></pre>
<p>This will only output the software modules from the software stack that contain "gromacs" (case insensitive) in their name.</p>
<p>To start using an application in the version we require, for example <code>bio/GROMACS/4.6.5-goolf-1.4.10-mt</code>, we are going to <code>load</code> its software module:
<code>(node)$&gt; module load bio/GROMACS/4.6.5-goolf-1.4.10-mt</code></p>
<p>We can now use the software by running its commands (e.g. for Gromacs we can now use <code>mdrun</code>).</p>
<p>To check the currently loaded modules, we use the <code>module list</code> command:</p>
<pre><code>(node)$&gt; module list
Currently Loaded Modules:
    1) compiler/GCC/4.7.2             4) toolchain/gompi/1.4.10                            7) numlib/ScaLAPACK/2.0.2-gompi-1.4.10-OpenBLAS-0.2.6-LAPACK-3.4.2
    2) system/hwloc/1.6.2-GCC-4.7.2   5) numlib/OpenBLAS/0.2.6-gompi-1.4.10-LAPACK-3.4.2   8) toolchain/goolf/1.4.10
    3) mpi/OpenMPI/1.6.4-GCC-4.7.2    6) numlib/FFTW/3.3.3-gompi-1.4.10                    9) bio/GROMACS/4.6.5-goolf-1.4.10-mt
</code></pre>
<p>When we've finished working with the application, we can remove its environment profile with <code>module unload</code>:
<code>(node)$&gt; module unload bio/GROMACS/4.6.5-goolf-1.4.10-mt</code></p>
<p>However, this will not remove its dependencies from the environment:</p>
<pre><code>(node)$&gt; module list
Currently Loaded Modules:
    1) compiler/GCC/4.7.2             4) toolchain/gompi/1.4.10                            7) numlib/ScaLAPACK/2.0.2-gompi-1.4.10-OpenBLAS-0.2.6-LAPACK-3.4.2
    2) system/hwloc/1.6.2-GCC-4.7.2   5) numlib/OpenBLAS/0.2.6-gompi-1.4.10-LAPACK-3.4.2   8) toolchain/goolf/1.4.10
    3) mpi/OpenMPI/1.6.4-GCC-4.7.2    6) numlib/FFTW/3.3.3-gompi-1.4.10
</code></pre>
<p>To remove all the loaded modules at once we use the <code>module purge</code> command:
<code>(node)$&gt; module purge</code></p>
<p>Next we are going to look at the hierarchical architecture of the modules.</p>
<h3 id="software-stack-architecture">Software stack architecture</h3>
<p>The upper layer of the architecture is what we call a <em>software set</em>. It is a collection of software, for example we define a <em>core</em> set that only contains commonly-used and tested software and an <em>experimental</em> set that contains untested software.
The main goal of these categories is to provide information on the degree of support for the various software.</p>
<p>Inside these sets, software is named in regards to a <em>naming scheme</em> which classifies the software (e.g. compilers, physics) and allows for a better structuring of results with the <code>module avail</code> command.
The software named using this scheme has the following format: <strong>software_class/software_name/software_complete_version</strong> where</p>
<ul>
<li><strong>software_class</strong> describes the category among the following classes: [base, bio, cae, chem, compiler, data, debugger, devel, lang, lib, math, mpi, numlib, phys, system, toolchain, tools, vis]</li>
<li><strong>software_name</strong> is the name of the software (e.g. GROMACS, MATLAB, R or ABySS)</li>
<li><strong>software_complete_version</strong> is the full version of the software: containing the version of the software itself followed by the type and version of the main dependencies it relies on (e.g. compiler) with the following format: software_version-dependencies_versions</li>
</ul>
<p>The <code>module avail</code> command will thus have the output shown below, where we can note:</p>
<ul>
<li>the core software set is shown first</li>
<li>application names are prefixed with the category (class)</li>
<li>full versions including tool dependencies are shown</li>
<li>the default module for each application is marked with a <code>(D)</code>, thus by loading <code>compiler/GCC</code> the system would in effect load <code>compiler/GCC/4.8.2</code><pre><code>```
------------------------------------------------------------------------------ /opt/apps/resif/devel/v1.1-20150414/core/modules/bio -------------------------------------------------------------------------------
   bio/ABySS/1.3.4-goolf-1.4.10-Python-2.7.3        bio/Bowtie2/2.2.2-goolf-1.4.10   (D)    bio/GROMACS/4.6.1-ictce-5.3.0-hybrid     bio/GROMACS/4.6.5-goolf-1.4.10-mt (D)
   bio/Bowtie2/2.0.2-ictce-5.3.0                    bio/Cufflinks/2.0.2-ictce-5.3.0  (D)    bio/GROMACS/4.6.5-goolf-1.4.10-hybrid    bio/SAMtools/0.1.18-ictce-5.3.0   (D)

------------------------------------------------------------------------------ /opt/apps/resif/devel/v1.1-20150414/core/modules/cae -------------------------------------------------------------------------------
   cae/ABAQUS/6.11.1    cae/OpenFOAM/2.3.0-goolf-1.4.10    cae/OpenFOAM/2.3.0-ictce-5.3.0 (D)

------------------------------------------------------------------------------ /opt/apps/resif/devel/v1.1-20150414/core/modules/chem ------------------------------------------------------------------------------
   chem/ABINIT/7.2.1-x86_64_linux_gnu4.5                chem/GPAW/0.9.0.8965-goolf-1.4.10-Python-2.7.3        chem/QuantumESPRESSO/5.0.2-goolf-1.4.10              chem/libctl/3.2.1-goolf-1.4.10
   chem/ASE/3.6.0.2515-ictce-5.3.0-Python-2.7.3  (D)    chem/QuantumESPRESSO/5.0.2-goolf-1.4.10-hybrid        chem/QuantumESPRESSO/5.0.2-ictce-5.3.0        (D)

---------------------------------------------------------------------------- /opt/apps/resif/devel/v1.1-20150414/core/modules/compiler ----------------------------------------------------------------------------
   compiler/GCC/4.7.2    compiler/GCC/4.8.2 (D)    compiler/icc/2013.3.163    compiler/ifort/2013.3.163

------------------------------------------------------------------------------ /opt/apps/resif/devel/v1.1-20150414/core/modules/data ------------------------------------------------------------------------------
   data/HDF5/1.8.7-goolf-1.4.10    data/HDF5/1.8.10-patch1-goolf-1.4.10        data/netCDF/4.2-goolf-1.4.10            data/netCDF-C++/4.2-goolf-1.4.10
   data/HDF5/1.8.9-ictce-5.3.0     data/h5utils/1.12.1-ictce-5.3.0      (D)    data/netCDF/4.2.1.1-ictce-5.3.0  (D)    data/netCDF-Fortran/4.2-ictce-5.3.0  (D)
```
</code></pre>
</li>
</ul>
<h2 id="adding-a-software-to-an-existing-stack-on-ul-hpc">Adding a software to an existing stack on UL HPC</h2>
<p>In this part, we are going to show the steps to add a software that is not already provided on the platform yet is available as a module in the <a href="https://github.com/hpcugent/easybuild/wiki/List-of-supported-software-packages">EasyBuild database</a>. Using the RESIF tool is the preferred way to add new software.
First of all we are going to install RESIF and then use it to add a software (bzip2 in this example).</p>
<p>Note: The following commands must be executed in an OAR job.</p>
<h3 id="installation-of-resif">Installation of RESIF</h3>
<p>RESIF requires the following prerequisites (already available on the platform):</p>
<ul>
<li><a href="https://www.python.org/downloads">Python 2.6</a> or above</li>
<li>pip (included in the latest Python)</li>
<li><a href="http://git-scm.com/downloads">git</a></li>
</ul>
<p>RESIF installation:</p>
<pre><code>    (node)$&gt; pip install --install-option="--prefix=$HOME/.local" resif
</code></pre>
<p>Initially, we need to add the following paths to the environment:</p>
<pre><code>    (node)$&gt; export PATH=$PATH:~/.local/bin
    (node)$&gt; export PYTHONPATH=$PYTHONPATH:~/.local/lib/python2.7/site-packages
</code></pre>
<p>Also,</p>
<p>RESIF initialization which will download the required module sources to build new software:</p>
<pre><code>    (node)$&gt; resif init
</code></pre>
<h3 id="installation-of-additional-software">Installation of additional software</h3>
<p>First we need to create a file that lists the applications we want to install.
To search for the names of the application configuration files, we use RESIF as follow:</p>
<pre><code>    (node)$&gt; resif search bzip2
    [...]
    * bzip2-1.0.6.eb
    [...]
</code></pre>
<p>Create a file (we are assuming it is in the home directory), name it <code>swsets.yaml</code> and insert the following content:</p>
<pre><code>    mysoftware:
      - bzip2-1.0.6.eb
</code></pre>
<p>This is a <a href="http://yaml.org/">YAML</a> format file that RESIF reads, the internal layout is the following:</p>
<pre><code>    software_set1_name:
      - software1_configurationfile
      - software2_configurationfile
    software_set2_name:
      - software3_configurationfile
</code></pre>
<p>It can list as many software, divided in as many software sets as we require to structure our installation.</p>
<p>Now we install the software using <code>resif build</code>:</p>
<pre><code>    (node)$&gt; resif build --installdir $HOME/.local/resif --swsets-config ~/swsets.yaml mysoftware
</code></pre>
<p>This will install the software using ~/.local/resif as the root of the installation.</p>
<p>To make the software modules available through the <code>module</code> command, we need to add their path:</p>
<pre><code>    (node)$&gt; module use $HOME/.local/resif/mysoftware/modules/all
</code></pre>
<p>Now, we can see <code>bzip2</code> at the very beginning of the output of the list of the software modules:</p>
<pre><code>    (node)$&gt; module avail
    ----- /home/users/username/.local/resif/mysoftware/core/modules/all -----
    tools/bzip2/1.0.6
</code></pre>
<p>The software is installed, and we can load its profile with <code>module load tools/bzip2/1.0.6</code>.</p>
<p>RESIF offers many more possibilities than this basic functionality, for more details check the <a href="http://resif.readthedocs.org/en/latest/">documentation</a>.</p>
<h2 id="replicating-the-software-sets-in-a-local-environment">Replicating the software sets in a local environment</h2>
<p>In this part, we are going to create a software stack from scratch. This is especially useful if we want to work on a local workstation (e.g. a laptop) with the same tools as those available on the platform.</p>
<p>We assume that RESIF is already installed as per the instructions described <a href="#installation-of-resif">above</a>.
Note: RESIF internally depends on <a href="http://easybuild.readthedocs.org/en/latest/">EasyBuild</a> which is compatible with Linux/OSX but not Windows. On Windows, you can configure a Linux Virtual Machine to use RESIF and the software built using it.</p>
<p><strong>At this point, please make sure to unset the RESIF_ROOTINSTALL environment variable.</strong> This is a necessary step since this variable would interfere with the creation of a new software stack (which defines a new rootinstall).
To do so, execute the following command:</p>
<pre><code>    unset RESIF_ROOTINSTALL
</code></pre>
<h3 id="direct-method">Direct method</h3>
<p>A <code>swsets.yaml</code> file that describes which software we want to install needs to be created.
As an example, create it in your home directory with the following content:</p>
<pre><code>    core:
      - bzip2-1.0.6.eb
      - ABINIT-7.2.1-x86_64_linux_gnu4.5.eb
</code></pre>
<p>We include here only the bzip2 library and the ABINIT software as they are fast to deploy.</p>
<p>We can now install this simple software stack with the following command:</p>
<pre><code>    $&gt; resif cleaninstall --swsets-config ~/swsets.yaml core
</code></pre>
<p>This will install everything using <code>~/.local/resif</code> as the root of the installation.</p>
<p>To use this newly installed software stack, you need to source the LOADME file inside of the rootinstall directory.
This path should look like this: <code>~/.local/resif/devel/vx.y-YYYYMMDD/LOADME-vx.y-YYYYMMDD.sh</code>.</p>
<pre><code>    $&gt; source ~/.local/resif/devel/vx.y-YYYYMMDD/LOADME-vx.y-YYYYMMDD.sh
</code></pre>
<p>The software stack is now ready to be used with the <code>module</code> command.</p>
<h3 id="indirect-method">Indirect method</h3>
<p>In this method we are going to create the architecture and then add software to it.</p>
<p>We create the architecture using the <code>bootstrap</code> subcommand:</p>
<pre><code>    $&gt; resif bootstrap
</code></pre>
<p>This will create the architecture using <code>~/.local/resif</code> as the root of the installation.</p>
<p>We now need to make this architecture active: you need to source the LOADME file inside of the rootinstall directory.
This path should look like this: <code>~/.local/resif/devel/vx.y-YYYYMMDD/LOADME-vx.y-YYYYMMDD.sh</code>.</p>
<pre><code>    $&gt; source ~/.local/resif/devel/vx.y-YYYYMMDD/LOADME-vx.y-YYYYMMDD.sh
</code></pre>
<p>Then we need to create the file that describe the software we want to install. In the home directory, create a file named <code>swsets.yaml</code> and make it match the following content:</p>
<pre><code>    core:
      - bzip2-1.0.6.eb
      - ABINIT-7.2.1-x86_64_linux_gnu4.5.eb
</code></pre>
<p>We include here only the bzip2 library and the ABINIT software as they are fast to deploy.</p>
<p>We now only need to build the given software:</p>
<pre><code>    $&gt; resif build --swsets-config ~/swsets.yaml core
</code></pre>
<p>This will install the software listed in the <code>swsets.yaml</code> file. The software stack is now ready to be used.</p>
<p>To learn more about RESIF and how to control more parameters of its usage, please refer to the <a href="http://resif.readthedocs.org/en/latest/">documentation</a>.</p>
<p>To conclude this tutorial, here is a schema that summarizes the previous parts:</p>
<p><img alt="General Workflow" src="./images/RESIFv6.png" /></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../OSU_MicroBenchmarks/" class="btn btn-neutral float-right" title="OSU Micro-benchmarks">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../EasyBuild/" class="btn btn-neutral" title="Easybuild"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../EasyBuild/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../OSU_MicroBenchmarks/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
